load "examples/isomatch.fl";
load "ste.fl";

//------------------------------------------------------------------------------
// ...
//------------------------------------------------------------------------------

// Load mux source.
let g_pex = verilog2pexlif "-Iexamples/mux" "mux4" ["small.v"] [];
let p_pex = verilog2pexlif "-Iexamples/mux" "mux2" ["small_lib.v"] [];
//
//Emit_pexlif "puzzle.txt" g_pex;
//Emit_pexlif "piece.txt" p_pex;
//
(g_pex fseq p_pex fseq print "Finished loading.\n");

//--------------------------------------------------------------------------------
// Create adj./iso. matrices.
let ss = isomatch xxx_fp (g_pex, "", 1) (p_pex, "", 0);
print_all ss;

//--------------------------------------------------------------------------------
// ...

let es = extend_matches xxx_fp g_pex p_pex ss;
print_all_ex ss es;

//------------------------------------------------------------------------------
// Fin.