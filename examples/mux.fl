load (DIR^"isomatch.fl");
load "ste.fl";

//------------------------------------------------------------------------------
// ...
//------------------------------------------------------------------------------

// Load mux source.
let g_pex = verilog2pexlif "-Iexamples/mux" "mux4" ["small.v"] [];
let p_pex = verilog2pexlif "-Iexamples/mux" "mux2" ["small_lib.v"] [];
(g_pex fseq p_pex fseq print "Finished loading.\n");

//Emit_pexlif "puzzle.txt" g_pex;
//Emit_pexlif "piece.txt" p_pex;

// ...
let piece  = PINST "box" [] F [] [] [] (P_HIER [p_pex]);
let puzzle = g_pex;

//isomatch cmp p_pex g_pex;
DBG_isomatch cmp_fp "1" "1" piece puzzle;

//------------------------------------------------------------------------------
// Fin.